syntax = "proto3";

//option go_package = "github.com/chezky/changeproto/db_service";

package proto;

message GlobalSuccessReply {
    bool success = 1;
}

message ReadUserEmail {
    string email = 1;
    string id = 2;
}

message ReadUserEmailReply {
    bool success = 1;
}

service ReadUserEmailService {
    rpc Send (ReadUserEmail) returns (ReadUserEmailReply) {}
}

message UserSignUp {
    string email = 1;
    string password = 2;
    int64 dob = 3;
    string usertoken = 4;
    string plaidpublictoken = 5;
    string plaidaccountid = 6;
    int32 key = 8;
}

service UserSignUpService {
    rpc SendUserSignUp (UserSignUp) returns (GlobalSuccessReply) {}
}

message CheckUserSignUpReply {
    int32 id = 1;
    string plaidpublictoken = 2;
}

service CheckUserSignUpService {
    rpc CheckUserSignUp (UserSignUp) returns (CheckUserSignUpReply) {}
}


message CheckEmailExists {
    string email = 1;
    string db = 2;
}

service CheckEmailExistsService {
    rpc CheckUserSignUp (UserSignUp) returns (GlobalSuccessReply) {}
}
